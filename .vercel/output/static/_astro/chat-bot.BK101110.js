import{j as T}from"./jsx-runtime.CLpGMVip.js";import{r as y,g as $t,a as kr,R as yt}from"./index.B-SYruCi.js";function Yt(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Yt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Yt(e))&&(n&&(n+=" "),n+=t);return n}const Rt=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Tt=qt,Ht=(e,t)=>r=>{var n;if(t?.variants==null)return Tt(e,r?.class,r?.className);const{variants:s,defaultVariants:o}=t,c=Object.keys(s).map(l=>{const u=r?.[l],d=o?.[l];if(u===null)return null;const g=Rt(u)||Rt(d);return s[l][g]}),a=r&&Object.entries(r).reduce((l,u)=>{let[d,g]=u;return g===void 0||(l[d]=g),l},{}),i=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:d,className:g,...h}=u;return Object.entries(h).every(w=>{let[f,b]=w;return Array.isArray(b)?b.includes({...o,...a}[f]):{...o,...a}[f]===b})?[...l,d,g]:l},[]);return Tt(e,c,i,r?.class,r?.className)},wt="-",Or=e=>{const t=jr(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const a=c.split(wt);return a[0]===""&&a.length!==1&&a.shift(),Kt(a,t)||Dr(c)},getConflictingClassGroupIds:(c,a)=>{const i=r[c]||[];return a&&n[c]?[...i,...n[c]]:i}}},Kt=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Kt(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(wt);return t.validators.find(({validator:c})=>c(o))?.classGroupId},At=/^\[(.+)\]$/,Dr=e=>{if(At.test(e)){const t=At.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jr=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Lr(Object.entries(e.classGroups),r).forEach(([o,c])=>{at(c,n,o,t)}),n},at=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Nt(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(Vr(s)){at(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,c])=>{at(c,Nt(t,o),r,n)})})},Nt=(e,t)=>{let r=e;return t.split(wt).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Vr=e=>e.isThemeGetter,Lr=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,a])=>[t+c,a])):o);return[r,s]}):e,Mr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,c)=>{r.set(o,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let c=r.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return s(o,c),c},set(o,c){r.has(o)?r.set(o,c):s(o,c)}}},Qt="!",Pr=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,c=a=>{const i=[];let l=0,u=0,d;for(let b=0;b<a.length;b++){let p=a[b];if(l===0){if(p===s&&(n||a.slice(b,b+o)===t)){i.push(a.slice(u,b)),u=b+o;continue}if(p==="/"){d=b;continue}}p==="["?l++:p==="]"&&l--}const g=i.length===0?a:a.substring(u),h=g.startsWith(Qt),w=h?g.substring(1):g,f=d&&d>u?d-u:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:f}};return r?a=>r({className:a,parseClassName:c}):c},Fr=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zr=e=>({cache:Mr(e.cacheSize),parseClassName:Pr(e),...Or(e)}),Ur=/\s+/,Br=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],c=e.trim().split(Ur);let a="";for(let i=c.length-1;i>=0;i-=1){const l=c[i],{modifiers:u,hasImportantModifier:d,baseClassName:g,maybePostfixModifierPosition:h}=r(l);let w=!!h,f=n(w?g.substring(0,h):g);if(!f){if(!w){a=l+(a.length>0?" "+a:a);continue}if(f=n(g),!f){a=l+(a.length>0?" "+a:a);continue}w=!1}const b=Fr(u).join(":"),p=d?b+Qt:b,m=p+f;if(o.includes(m))continue;o.push(m);const C=s(f,w);for(let v=0;v<C.length;++v){const E=C[v];o.push(p+E)}a=l+(a.length>0?" "+a:a)}return a};function Jr(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Xt(t))&&(n&&(n+=" "),n+=r);return n}const Xt=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Xt(e[n]))&&(r&&(r+=" "),r+=t);return r};function Wr(e,...t){let r,n,s,o=c;function c(i){const l=t.reduce((u,d)=>d(u),e());return r=zr(l),n=r.cache.get,s=r.cache.set,o=a,a(i)}function a(i){const l=n(i);if(l)return l;const u=Br(i,r);return s(i,u),u}return function(){return o(Jr.apply(null,arguments))}}const V=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Zt=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gr=/^\d+\/\d+$/,$r=new Set(["px","full","screen"]),Yr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,se=e=>he(e)||$r.has(e)||Gr.test(e),le=e=>ye(e,"length",sn),he=e=>!!e&&!Number.isNaN(Number(e)),He=e=>ye(e,"number",he),we=e=>!!e&&Number.isInteger(Number(e)),Xr=e=>e.endsWith("%")&&he(e.slice(0,-1)),I=e=>Zt.test(e),ce=e=>Yr.test(e),Zr=new Set(["length","size","percentage"]),en=e=>ye(e,Zr,er),tn=e=>ye(e,"position",er),rn=new Set(["image","url"]),nn=e=>ye(e,rn,ln),on=e=>ye(e,"",an),Ee=()=>!0,ye=(e,t,r)=>{const n=Zt.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sn=e=>qr.test(e)&&!Hr.test(e),er=()=>!1,an=e=>Kr.test(e),ln=e=>Qr.test(e),cn=()=>{const e=V("colors"),t=V("spacing"),r=V("blur"),n=V("brightness"),s=V("borderColor"),o=V("borderRadius"),c=V("borderSpacing"),a=V("borderWidth"),i=V("contrast"),l=V("grayscale"),u=V("hueRotate"),d=V("invert"),g=V("gap"),h=V("gradientColorStops"),w=V("gradientColorStopPositions"),f=V("inset"),b=V("margin"),p=V("opacity"),m=V("padding"),C=V("saturate"),v=V("scale"),E=V("sepia"),D=V("skew"),M=V("space"),N=V("translate"),j=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",I,t],S=()=>[I,t],W=()=>["",se,le],$=()=>["auto",he,I],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",I],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[he,I];return{cacheSize:500,separator:":",theme:{colors:[Ee],spacing:[se,le],blur:["none","",ce,I],brightness:z(),borderColor:[e],borderRadius:["none","","full",ce,I],borderSpacing:S(),borderWidth:W(),contrast:z(),grayscale:U(),hueRotate:z(),invert:U(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Xr,le],inset:F(),margin:F(),opacity:z(),padding:S(),saturate:z(),scale:z(),sepia:U(),skew:z(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",I]}],container:["container"],columns:[{columns:[ce]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),I]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",we,I]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",I]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",we,I]}],"grid-cols":[{"grid-cols":[Ee]}],"col-start-end":[{col:["auto",{span:["full",we,I]},I]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ee]}],"row-start-end":[{row:["auto",{span:[we,I]},I]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",I]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",I]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",I,t]}],"min-w":[{"min-w":[I,t,"min","max","fit"]}],"max-w":[{"max-w":[I,t,"none","full","min","max","fit","prose",{screen:[ce]},ce]}],h:[{h:[I,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[I,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[I,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[I,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ce,le]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",He]}],"font-family":[{font:[Ee]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",I]}],"line-clamp":[{"line-clamp":["none",he,He]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",se,I]}],"list-image":[{"list-image":["none",I]}],"list-style-type":[{list:["none","disc","decimal",I]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",se,le]}],"underline-offset":[{"underline-offset":["auto",se,I]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",I]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",I]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),tn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",en]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[se,I]}],"outline-w":[{outline:[se,le]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[se,le]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ce,on]}],"shadow-color":[{shadow:[Ee]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",ce,I]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[C]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",I]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",I]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",I]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[we,I]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",I]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",I]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",I]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[se,le,He]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},un=Wr(cn);function Z(...e){return un(qt(e))}const dn=Ht("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:e,variant:t,...r}){return T.jsx("div",{className:Z(dn({variant:t}),e),...r})}function kt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fn(...e){return t=>{let r=!1;const n=e.map(s=>{const o=kt(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():kt(e[s],null)}}}}var tr=y.forwardRef((e,t)=>{const{children:r,...n}=e,s=y.Children.toArray(r),o=s.find(gn);if(o){const c=o.props.children,a=s.map(i=>i===o?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:i);return T.jsx(it,{...n,ref:t,children:y.isValidElement(c)?y.cloneElement(c,void 0,a):null})}return T.jsx(it,{...n,ref:t,children:r})});tr.displayName="Slot";var it=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const s=hn(r);return y.cloneElement(r,{...mn(n,r.props),ref:t?fn(t,s):s})}return y.Children.count(r)>1?y.Children.only(null):null});it.displayName="SlotClone";var pn=({children:e})=>T.jsx(T.Fragment,{children:e});function gn(e){return y.isValidElement(e)&&e.type===pn}function mn(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function hn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const bn=Ht("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ge=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const c=n?tr:"button";return T.jsx(c,{className:Z(bn({variant:t,size:r,className:e})),ref:o,...s})});Ge.displayName="Button";const rr=y.forwardRef(({className:e,...t},r)=>T.jsx("div",{ref:r,className:Z("rounded-xl border bg-card text-card-foreground shadow",e),...t}));rr.displayName="Card";const nr=y.forwardRef(({className:e,...t},r)=>T.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));nr.displayName="CardHeader";const or=y.forwardRef(({className:e,...t},r)=>T.jsx("div",{ref:r,className:Z("font-semibold leading-none tracking-tight",e),...t}));or.displayName="CardTitle";const yn=y.forwardRef(({className:e,...t},r)=>T.jsx("div",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));yn.displayName="CardDescription";const sr=y.forwardRef(({className:e,...t},r)=>T.jsx("div",{ref:r,className:Z("p-6 pt-0",e),...t}));sr.displayName="CardContent";const ar=y.forwardRef(({className:e,...t},r)=>T.jsx("div",{ref:r,className:Z("flex items-center p-6 pt-0",e),...t}));ar.displayName="CardFooter";const ir=y.forwardRef(({className:e,type:t,...r},n)=>T.jsx("input",{type:t,className:Z("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ir.displayName="Input";var lr="vercel.ai.error",wn=Symbol.for(lr),cr,En=class ur extends Error{constructor({name:t,message:r,cause:n}){super(r),this[cr]=!0,this.name=t,this.cause=n}static isInstance(t){return ur.hasMarker(t,lr)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};cr=wn;var be=En;function dr(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var fr="AI_InvalidArgumentError",pr=`vercel.ai.error.${fr}`,xn=Symbol.for(pr),gr,vn=class extends be{constructor({message:e,cause:t,argument:r}){super({name:fr,message:e,cause:t}),this[gr]=!0,this.argument=r}static isInstance(e){return be.hasMarker(e,pr)}};gr=xn;var mr="AI_JSONParseError",hr=`vercel.ai.error.${mr}`,_n=Symbol.for(hr),br,Ot=class extends be{constructor({text:e,cause:t}){super({name:mr,message:`JSON parsing failed: Text: ${e}.
Error message: ${dr(t)}`,cause:t}),this[br]=!0,this.text=e}static isInstance(e){return be.hasMarker(e,hr)}};br=_n;var yr="AI_TypeValidationError",wr=`vercel.ai.error.${yr}`,In=Symbol.for(wr),Er,Sn=class lt extends be{constructor({value:t,cause:r}){super({name:yr,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${dr(r)}`,cause:r}),this[Er]=!0,this.value=t}static isInstance(t){return be.hasMarker(t,wr)}static wrap({value:t,cause:r}){return lt.isInstance(r)&&r.value===t?r:new lt({value:t,cause:r})}};Er=In;var Dt=Sn;let Cn=(e,t=21)=>(r=t)=>{let n="",s=r|0;for(;s--;)n+=e[Math.random()*e.length|0];return n};var fe={exports:{}},jt;function Rn(){if(jt)return fe.exports;jt=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,r=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function n(a,i,l){l==null&&i!==null&&typeof i=="object"&&(l=i,i=void 0),e&&Buffer.isBuffer(a)&&(a=a.toString()),a&&a.charCodeAt(0)===65279&&(a=a.slice(1));const u=JSON.parse(a,i);if(u===null||typeof u!="object")return u;const d=l&&l.protoAction||"error",g=l&&l.constructorAction||"error";if(d==="ignore"&&g==="ignore")return u;if(d!=="ignore"&&g!=="ignore"){if(t.test(a)===!1&&r.test(a)===!1)return u}else if(d!=="ignore"&&g==="ignore"){if(t.test(a)===!1)return u}else if(r.test(a)===!1)return u;return s(u,{protoAction:d,constructorAction:g,safe:l&&l.safe})}function s(a,{protoAction:i="error",constructorAction:l="error",safe:u}={}){let d=[a];for(;d.length;){const g=d;d=[];for(const h of g){if(i!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(u===!0)return null;if(i==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(l!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(u===!0)return null;if(l==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(const w in h){const f=h[w];f&&typeof f=="object"&&d.push(f)}}}return a}function o(a,i,l){const u=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return n(a,i,l)}finally{Error.stackTraceLimit=u}}function c(a,i){const l=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return n(a,i,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=l}}return fe.exports=o,fe.exports.default=o,fe.exports.parse=o,fe.exports.safeParse=c,fe.exports.scan=s,fe.exports}var Tn=Rn();const An=$t(Tn);var Nn=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const s=Cn(r,t);if(e==null)return s;if(r.includes(n))throw new vn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return o=>`${e}${n}${s(o)}`},xr=Nn(),ct=Symbol.for("vercel.ai.validator");function kn(e){return{[ct]:!0,validate:e}}function On(e){return typeof e=="object"&&e!==null&&ct in e&&e[ct]===!0&&"validate"in e}function Dn(e){return On(e)?e:jn(e)}function jn(e){return kn(t=>{const r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function Vn({value:e,schema:t}){const r=Dn(t);try{if(r.validate==null)return{success:!0,value:e};const n=r.validate(e);return n.success?n:{success:!1,error:Dt.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:Dt.wrap({value:e,cause:n})}}}function Vt({text:e,schema:t}){try{const r=An.parse(e);if(t==null)return{success:!0,value:r,rawValue:r};const n=Vn({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(r){return{success:!1,error:Ot.isInstance(r)?r:new Ot({text:e,cause:r})}}}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var ve={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},_e={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Ie={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Se={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Ce={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},Ln=[ve,_e,Ie,Se,Ce];ve.code+"",_e.code+"",Ie.code+"",Se.code+"",Ce.code+"";ve.name+"",ve.code,_e.name+"",_e.code,Ie.name+"",Ie.code,Se.name+"",Se.code,Ce.name+"",Ce.code;Ln.map(e=>e.code);function Mn(e){const t=["ROOT"];let r=-1,n=null;function s(i,l,u){switch(i){case'"':{r=l,t.pop(),t.push(u),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=l,n=l,t.pop(),t.push(u),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(u),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=l,t.pop(),t.push(u),t.push("INSIDE_NUMBER");break}case"{":{r=l,t.pop(),t.push(u),t.push("INSIDE_OBJECT_START");break}case"[":{r=l,t.pop(),t.push(u),t.push("INSIDE_ARRAY_START");break}}}function o(i,l){switch(i){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=l,t.pop();break}}}function c(i,l){switch(i){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=l,t.pop();break}}}for(let i=0;i<e.length;i++){const l=e[i];switch(t[t.length-1]){case"ROOT":s(l,i,"FINISH");break;case"INSIDE_OBJECT_START":{switch(l){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=i,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(l){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(l){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(l){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(l,i,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(l,i);break}case"INSIDE_STRING":{switch(l){case'"':{t.pop(),r=i;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=i}break}case"INSIDE_ARRAY_START":{switch(l){case"]":{r=i,t.pop();break}default:{r=i,s(l,i,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(l){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=i,t.pop();break}default:{r=i;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(l,i,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=i;break}case"INSIDE_NUMBER":{switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=i;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&c(l,i),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(l,i);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(l,i);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&c(l,i);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const d=e.substring(n,i+1);!"false".startsWith(d)&&!"true".startsWith(d)&&!"null".startsWith(d)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(l,i):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&c(l,i)):r=i;break}}}let a=e.slice(0,r+1);for(let i=t.length-1;i>=0;i--)switch(t[i]){case"INSIDE_STRING":{a+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{a+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{a+="]";break}case"INSIDE_LITERAL":{const u=e.substring(n,e.length);"true".startsWith(u)?a+="true".slice(u.length):"false".startsWith(u)?a+="false".slice(u.length):"null".startsWith(u)&&(a+="null".slice(u.length))}}return a}function Pn(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=Vt({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=Vt({text:Mn(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Re={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Te={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Ae={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Ne={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ke={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Oe={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},De={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},je={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},Ve={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},Le={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},Me={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},Pe={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},Fn=[Re,Te,Ae,Ne,ke,Oe,De,je,Ve,Le,Me,Pe],zn={[Re.code]:Re,[Te.code]:Te,[Ae.code]:Ae,[Ne.code]:Ne,[ke.code]:ke,[Oe.code]:Oe,[De.code]:De,[je.code]:je,[Ve.code]:Ve,[Le.code]:Le,[Me.code]:Me,[Pe.code]:Pe};Re.name+"",Re.code,Te.name+"",Te.code,Ae.name+"",Ae.code,Ne.name+"",Ne.code,ke.name+"",ke.code,Oe.name+"",Oe.code,De.name+"",De.code,je.name+"",je.code,Ve.name+"",Ve.code,Le.name+"",Le.code,Me.name+"",Me.code,Pe.name+"",Pe.code;var Un=Fn.map(e=>e.code),Bn=e=>{const t=e.indexOf(":");if(t===-1)throw new Error("Failed to parse stream string. No separator found.");const r=e.slice(0,t);if(!Un.includes(r))throw new Error(`Failed to parse stream string. Invalid code ${r}.`);const n=r,s=e.slice(t+1),o=JSON.parse(s);return zn[n].parse(o)},Jn=10;function Wn(e,t){const r=new Uint8Array(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return e.length=0,r}async function Gn({stream:e,onTextPart:t,onReasoningPart:r,onDataPart:n,onErrorPart:s,onToolCallStreamingStartPart:o,onToolCallDeltaPart:c,onToolCallPart:a,onToolResultPart:i,onMessageAnnotationsPart:l,onFinishMessagePart:u,onFinishStepPart:d,onStartStepPart:g}){const h=e.getReader(),w=new TextDecoder,f=[];let b=0;for(;;){const{value:p}=await h.read();if(p&&(f.push(p),b+=p.length,p[p.length-1]!==Jn))continue;if(f.length===0)break;const m=Wn(f,b);b=0;const C=w.decode(m,{stream:!0}).split(`
`).filter(v=>v!=="").map(Bn);for(const{type:v,value:E}of C)switch(v){case"text":await t?.(E);break;case"reasoning":await r?.(E);break;case"data":await n?.(E);break;case"error":await s?.(E);break;case"message_annotations":await l?.(E);break;case"tool_call_streaming_start":await o?.(E);break;case"tool_call_delta":await c?.(E);break;case"tool_call":await a?.(E);break;case"tool_result":await i?.(E);break;case"finish_message":await u?.(E);break;case"finish_step":await d?.(E);break;case"start_step":await g?.(E);break;default:{const D=v;throw new Error(`Unknown stream part type: ${D}`)}}}}function $n({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}async function Yn({stream:e,update:t,onToolCall:r,onFinish:n,generateId:s=xr,getCurrentDate:o=()=>new Date}){const c=o();let a,i=!0,l;const u=[],d=[];let g;const h={};let w={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},f="unknown";function b(){const m=[...d];if(a==null){t(u,m);return}g?.length&&(a.annotations=g);const C={...JSON.parse(JSON.stringify(a)),revisionId:s(),createdAt:a.createdAt};t([...u,C],m)}function p(){return(i||a==null)&&(a!=null&&u.push(a),a={id:l??s(),role:"assistant",content:"",createdAt:c},i=!1,l=void 0),a}await Gn({stream:e,onTextPart(m){const C=p();a={...C,content:C.content+m},b()},onToolCallStreamingStartPart(m){const C=p();C.toolInvocations==null&&(C.toolInvocations=[]),h[m.toolCallId]={text:"",toolName:m.toolName,index:C.toolInvocations.length},C.toolInvocations.push({state:"partial-call",toolCallId:m.toolCallId,toolName:m.toolName,args:void 0}),b()},onToolCallDeltaPart(m){const C=p(),v=h[m.toolCallId];v.text+=m.argsTextDelta;const{value:E}=Pn(v.text);C.toolInvocations[v.index]={state:"partial-call",toolCallId:m.toolCallId,toolName:v.toolName,args:E},b()},async onToolCallPart(m){const C=p();if(h[m.toolCallId]!=null?C.toolInvocations[h[m.toolCallId].index]={state:"call",...m}:(C.toolInvocations==null&&(C.toolInvocations=[]),C.toolInvocations.push({state:"call",...m})),r){const v=await r({toolCall:m});v!=null&&(C.toolInvocations[C.toolInvocations.length-1]={state:"result",...m,result:v})}b()},onToolResultPart(m){const v=p().toolInvocations;if(v==null)throw new Error("tool_result must be preceded by a tool_call");const E=v.findIndex(D=>D.toolCallId===m.toolCallId);if(E===-1)throw new Error("tool_result must be preceded by a tool_call with the same toolCallId");v[E]={...v[E],state:"result",...m},b()},onDataPart(m){d.push(...m),b()},onMessageAnnotationsPart(m){g==null?g=[...m]:g.push(...m),b()},onFinishStepPart(m){i=!m.isContinued},onStartStepPart(m){l=m.messageId},onFinishMessagePart(m){f=m.finishReason,m.usage!=null&&(w=$n(m.usage))},onErrorPart(m){throw new Error(m)}}),n?.({message:a,finishReason:f,usage:w})}async function qn({stream:e,onTextPart:t}){const r=e.pipeThrough(new TextDecoderStream).getReader();for(;;){const{done:n,value:s}=await r.read();if(n)break;await t(s)}}var Hn=()=>fetch;async function Kn({api:e,body:t,streamProtocol:r="data",credentials:n,headers:s,abortController:o,restoreMessagesOnFailure:c,onResponse:a,onUpdate:i,onFinish:l,onToolCall:u,generateId:d,fetch:g=Hn()}){var h,w;const f=await g(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",...s},signal:(h=o?.())==null?void 0:h.signal,credentials:n}).catch(b=>{throw c(),b});if(a)try{await a(f)}catch(b){throw b}if(!f.ok)throw c(),new Error((w=await f.text())!=null?w:"Failed to fetch the chat response.");if(!f.body)throw new Error("The response body is empty.");switch(r){case"text":{const b={id:d(),createdAt:new Date,role:"assistant",content:""};await qn({stream:f.body,onTextPart:p=>{b.content+=p,i([{...b}],[])}}),l?.(b,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"});return}case"data":{await Yn({stream:f.body,update:i,onToolCall:u,onFinish({message:b,finishReason:p,usage:m}){l&&b!=null&&l(b,{usage:m,finishReason:p})},generateId:d});return}default:{const b=r;throw new Error(`Unknown stream protocol: ${b}`)}}}async function Lt(e){if(!e)return[];if(e instanceof FileList)return Promise.all(Array.from(e).map(async t=>{const{name:r,type:n}=t,s=await new Promise((o,c)=>{const a=new FileReader;a.onload=i=>{var l;o((l=i.target)==null?void 0:l.result)},a.onerror=i=>c(i),a.readAsDataURL(t)});return{name:r,contentType:n,url:s}}));if(Array.isArray(e))return e;throw new Error("Invalid attachments type")}var Qe={exports:{}},Xe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt;function Qn(){if(Mt)return Xe;Mt=1;var e=kr();function t(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function a(d,g){var h=g(),w=n({inst:{value:h,getSnapshot:g}}),f=w[0].inst,b=w[1];return o(function(){f.value=h,f.getSnapshot=g,i(f)&&b({inst:f})},[d,h,g]),s(function(){return i(f)&&b({inst:f}),d(function(){i(f)&&b({inst:f})})},[d]),c(h),h}function i(d){var g=d.getSnapshot;d=d.value;try{var h=g();return!r(d,h)}catch{return!0}}function l(d,g){return g()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Xe.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Xe}var Pt;function Xn(){return Pt||(Pt=1,Qe.exports=Qn()),Qe.exports}var Zn=Xn(),Ft=Object.prototype.hasOwnProperty;function ut(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&ut(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Ft.call(e,r)&&++n&&!Ft.call(t,r)||!(r in t)||!ut(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const ae=new WeakMap,ue=()=>{},q=ue(),dt=Object,k=e=>e===q,te=e=>typeof e=="function",de=(e,t)=>({...e,...t}),vr=e=>te(e.then),Ze={},Be={},Et="undefined",$e=typeof window!=Et,ft=typeof document!=Et,eo=()=>$e&&typeof window.requestAnimationFrame!=Et,_r=(e,t)=>{const r=ae.get(e);return[()=>!k(t)&&e.get(t)||Ze,n=>{if(!k(t)){const s=e.get(t);t in Be||(Be[t]=s),r[5](t,de(s,n),s||Ze)}},r[6],()=>!k(t)&&t in Be?Be[t]:!k(t)&&e.get(t)||Ze]};let pt=!0;const to=()=>pt,[gt,mt]=$e&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ue,ue],ro=()=>{const e=ft&&document.visibilityState;return k(e)||e!=="hidden"},no=e=>(ft&&document.addEventListener("visibilitychange",e),gt("focus",e),()=>{ft&&document.removeEventListener("visibilitychange",e),mt("focus",e)}),oo=e=>{const t=()=>{pt=!0,e()},r=()=>{pt=!1};return gt("online",t),gt("offline",r),()=>{mt("online",t),mt("offline",r)}},so={isOnline:to,isVisible:ro},ao={initFocus:no,initReconnect:oo},zt=!yt.useId,Fe=!$e||"Deno"in globalThis,io=e=>eo()?window.requestAnimationFrame(e):setTimeout(e,1),et=Fe?y.useEffect:y.useLayoutEffect,tt=typeof navigator<"u"&&navigator.connection,Ut=!Fe&&tt&&(["slow-2g","2g"].includes(tt.effectiveType)||tt.saveData),Je=new WeakMap,rt=(e,t)=>dt.prototype.toString.call(e)===`[object ${t}]`;let lo=0;const ht=e=>{const t=typeof e,r=rt(e,"Date"),n=rt(e,"RegExp"),s=rt(e,"Object");let o,c;if(dt(e)===e&&!r&&!n){if(o=Je.get(e),o)return o;if(o=++lo+"~",Je.set(e,o),Array.isArray(e)){for(o="@",c=0;c<e.length;c++)o+=ht(e[c])+",";Je.set(e,o)}if(s){o="#";const a=dt.keys(e).sort();for(;!k(c=a.pop());)k(e[c])||(o+=c+":"+ht(e[c])+",");Je.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},xt=e=>{if(te(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?ht(e):"",[e,t]};let co=0;const bt=()=>++co,Ir=0,Sr=1,Cr=2,uo=3;var xe={__proto__:null,ERROR_REVALIDATE_EVENT:uo,FOCUS_EVENT:Ir,MUTATE_EVENT:Cr,RECONNECT_EVENT:Sr};async function Rr(...e){const[t,r,n,s]=e,o=de({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let c=o.populateCache;const a=o.rollbackOnError;let i=o.optimisticData;const l=g=>typeof a=="function"?a(g):a!==!1,u=o.throwOnError;if(te(r)){const g=r,h=[],w=t.keys();for(const f of w)!/^\$(inf|sub)\$/.test(f)&&g(t.get(f)._k)&&h.push(f);return Promise.all(h.map(d))}return d(r);async function d(g){const[h]=xt(g);if(!h)return;const[w,f]=_r(t,h),[b,p,m,C]=ae.get(t),v=()=>{const W=b[h];return(te(o.revalidate)?o.revalidate(w().data,g):o.revalidate!==!1)&&(delete m[h],delete C[h],W&&W[0])?W[0](Cr).then(()=>w().data):w().data};if(e.length<3)return v();let E=n,D;const M=bt();p[h]=[M,0];const N=!k(i),j=w(),L=j.data,F=j._c,S=k(F)?L:F;if(N&&(i=te(i)?i(S,L):i,f({data:i,_c:S})),te(E))try{E=E(S)}catch(W){D=W}if(E&&vr(E))if(E=await E.catch(W=>{D=W}),M!==p[h][0]){if(D)throw D;return E}else D&&N&&l(D)&&(c=!0,f({data:S,_c:q}));if(c&&!D)if(te(c)){const W=c(E,S);f({data:W,error:q,_c:q})}else f({data:E,error:q,_c:q});if(p[h][1]=bt(),Promise.resolve(v()).then(()=>{f({_c:q})}),D){if(u)throw D;return}return E}}const Bt=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},fo=(e,t)=>{if(!ae.has(e)){const r=de(ao,t),n={},s=Rr.bind(q,e);let o=ue;const c={},a=(u,d)=>{const g=c[u]||[];return c[u]=g,g.push(d),()=>g.splice(g.indexOf(d),1)},i=(u,d,g)=>{e.set(u,d);const h=c[u];if(h)for(const w of h)w(d,g)},l=()=>{if(!ae.has(e)&&(ae.set(e,[n,{},{},{},s,i,a]),!Fe)){const u=r.initFocus(setTimeout.bind(q,Bt.bind(q,n,Ir))),d=r.initReconnect(setTimeout.bind(q,Bt.bind(q,n,Sr)));o=()=>{u&&u(),d&&d(),ae.delete(e)}}};return l(),[e,s,l,o]}return[e,ae.get(e)[4]]},po=(e,t,r,n,s)=>{const o=r.errorRetryCount,c=s.retryCount,a=~~((Math.random()+.5)*(1<<(c<8?c:8)))*r.errorRetryInterval;!k(o)&&c>o||setTimeout(n,a,s)},go=ut,[Tr,mo]=fo(new Map),ho=de({onLoadingSlow:ue,onSuccess:ue,onError:ue,onErrorRetry:po,onDiscarded:ue,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ut?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ut?5e3:3e3,compare:go,isPaused:()=>!1,cache:Tr,mutate:mo,fallback:{}},so),bo=(e,t)=>{const r=de(e,t);if(t){const{use:n,fallback:s}=e,{use:o,fallback:c}=t;n&&o&&(r.use=n.concat(o)),s&&c&&(r.fallback=de(s,c))}return r},yo=y.createContext({}),wo="$inf$",Ar=$e&&window.__SWR_DEVTOOLS_USE__,Eo=Ar?window.__SWR_DEVTOOLS_USE__:[],xo=()=>{Ar&&(window.__SWR_DEVTOOLS_REACT__=yt)},vo=e=>te(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],_o=()=>de(ho,y.useContext(yo)),Io=e=>(t,r,n)=>e(t,r&&((...o)=>{const[c]=xt(t),[,,,a]=ae.get(Tr);if(c.startsWith(wo))return r(...o);const i=a[c];return k(i)?r(...o):(delete a[c],i)}),n),So=Eo.concat(Io),Co=e=>function(...r){const n=_o(),[s,o,c]=vo(r),a=bo(n,c);let i=e;const{use:l}=a,u=(l||[]).concat(So);for(let d=u.length;d--;)i=u[d](i);return i(s,o||a.fetcher||null,a)},Ro=(e,t,r)=>{const n=t[e]||(t[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s>=0&&(n[s]=n[n.length-1],n.pop())}};xo();const nt=yt.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),ot={dedupe:!0},To=(e,t,r)=>{const{cache:n,compare:s,suspense:o,fallbackData:c,revalidateOnMount:a,revalidateIfStale:i,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:g}=r,[h,w,f,b]=ae.get(n),[p,m]=xt(e),C=y.useRef(!1),v=y.useRef(!1),E=y.useRef(p),D=y.useRef(t),M=y.useRef(r),N=()=>M.current,j=()=>N().isVisible()&&N().isOnline(),[L,F,S,W]=_r(n,p),$=y.useRef({}).current,re=k(c)?k(r.fallback)?q:r.fallback[p]:c,X=(x,_)=>{for(const R in $){const O=R;if(O==="data"){if(!s(x[O],_[O])&&(!k(x[O])||!s(ee,_[O])))return!1}else if(_[O]!==x[O])return!1}return!0},H=y.useMemo(()=>{const x=!p||!t?!1:k(a)?N().isPaused()||o?!1:i!==!1:a,_=Y=>{const ne=de(Y);return delete ne._k,x?{isValidating:!0,isLoading:!0,...ne}:ne},R=L(),O=W(),J=_(R),K=R===O?J:_(O);let P=J;return[()=>{const Y=_(L());return X(Y,P)?(P.data=Y.data,P.isLoading=Y.isLoading,P.isValidating=Y.isValidating,P.error=Y.error,P):(P=Y,Y)},()=>K]},[n,p]),G=Zn.useSyncExternalStore(y.useCallback(x=>S(p,(_,R)=>{X(R,_)||x()}),[n,p]),H[0],H[1]),U=!C.current,pe=h[p]&&h[p].length>0,z=G.data,ie=k(z)?re&&vr(re)?nt(re):re:z,ge=G.error,ze=y.useRef(ie),ee=g?k(z)?ze.current:z:ie,me=pe&&!k(ge)?!1:U&&!k(a)?a:N().isPaused()?!1:o?k(ie)?!1:i:k(ie)||i,Ue=!!(p&&t&&U&&me),vt=k(G.isValidating)?Ue:G.isValidating,_t=k(G.isLoading)?Ue:G.isLoading,A=y.useCallback(async x=>{const _=D.current;if(!p||!_||v.current||N().isPaused())return!1;let R,O,J=!0;const K=x||{},P=!f[p]||!K.dedupe,Y=()=>zt?!v.current&&p===E.current&&C.current:p===E.current,ne={isValidating:!1,isLoading:!1},It=()=>{F(ne)},St=()=>{const Q=f[p];Q&&Q[1]===O&&delete f[p]},Ct={isValidating:!0};k(L().data)&&(Ct.isLoading=!0);try{if(P&&(F(Ct),r.loadingTimeout&&k(L().data)&&setTimeout(()=>{J&&Y()&&N().onLoadingSlow(p,r)},r.loadingTimeout),f[p]=[_(m),bt()]),[R,O]=f[p],R=await R,P&&setTimeout(St,r.dedupingInterval),!f[p]||f[p][1]!==O)return P&&Y()&&N().onDiscarded(p),!1;ne.error=q;const Q=w[p];if(!k(Q)&&(O<=Q[0]||O<=Q[1]||Q[1]===0))return It(),P&&Y()&&N().onDiscarded(p),!1;const oe=L().data;ne.data=s(oe,R)?oe:R,P&&Y()&&N().onSuccess(R,p,r)}catch(Q){St();const oe=N(),{shouldRetryOnError:Ye}=oe;oe.isPaused()||(ne.error=Q,P&&Y()&&(oe.onError(Q,p,oe),(Ye===!0||te(Ye)&&Ye(Q))&&(!N().revalidateOnFocus||!N().revalidateOnReconnect||j())&&oe.onErrorRetry(Q,p,oe,Nr=>{const qe=h[p];qe&&qe[0]&&qe[0](xe.ERROR_REVALIDATE_EVENT,Nr)},{retryCount:(K.retryCount||0)+1,dedupe:!0})))}return J=!1,It(),!0},[p,n]),B=y.useCallback((...x)=>Rr(n,E.current,...x),[]);if(et(()=>{D.current=t,M.current=r,k(z)||(ze.current=z)}),et(()=>{if(!p)return;const x=A.bind(q,ot);let _=0;const O=Ro(p,h,(J,K={})=>{if(J==xe.FOCUS_EVENT){const P=Date.now();N().revalidateOnFocus&&P>_&&j()&&(_=P+N().focusThrottleInterval,x())}else if(J==xe.RECONNECT_EVENT)N().revalidateOnReconnect&&j()&&x();else{if(J==xe.MUTATE_EVENT)return A();if(J==xe.ERROR_REVALIDATE_EVENT)return A(K)}});return v.current=!1,E.current=p,C.current=!0,F({_k:m}),me&&(k(ie)||Fe?x():io(x)),()=>{v.current=!0,O()}},[p]),et(()=>{let x;function _(){const O=te(l)?l(L().data):l;O&&x!==-1&&(x=setTimeout(R,O))}function R(){!L().error&&(u||N().isVisible())&&(d||N().isOnline())?A(ot).then(_):_()}return _(),()=>{x&&(clearTimeout(x),x=-1)}},[l,u,d,p]),y.useDebugValue(ee),o&&k(ie)&&p){if(!zt&&Fe)throw new Error("Fallback data is required when using Suspense in SSR.");D.current=t,M.current=r,v.current=!1;const x=b[p];if(!k(x)){const _=B(x);nt(_)}if(k(ge)){const _=A(ot);k(ee)||(_.status="fulfilled",_.value=!0),nt(_)}else throw ge}return{mutate:B,get data(){return $.data=!0,ee},get error(){return $.error=!0,ge},get isValidating(){return $.isValidating=!0,vt},get isLoading(){return $.isLoading=!0,_t}}},We=Co(To);var st,Jt;function Ao(){if(Jt)return st;Jt=1;function e(t,r){if(typeof t!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof t}\`.`);let n,s=0;return function(...c){clearTimeout(n);const a=Date.now(),i=a-s,l=r-i;l<=0?(s=a,t.apply(this,c)):n=setTimeout(()=>{s=Date.now(),t.apply(this,c)},l)}}return st=e,st}var No=Ao();const ko=$t(No);function Wt(e,t){return t!=null?ko(e,t):e}var Oo=async(e,t,r,n,s,o,c,a,i,l,u,d,g,h,w,f,b,p)=>{var m;const C=c.current;r(t.messages,!1);const v=h?t.messages:t.messages.map(({role:D,content:M,experimental_attachments:N,data:j,annotations:L,toolInvocations:F})=>({role:D,content:M,...N!==void 0&&{experimental_attachments:N},...j!==void 0&&{data:j},...L!==void 0&&{annotations:L},...F!==void 0&&{toolInvocations:F}})),E=s.current;return await Kn({api:e,body:(m=w?.({id:p,messages:t.messages,requestData:t.data,requestBody:t.body}))!=null?m:{id:p,messages:v,data:t.data,...o.current.body,...t.body},streamProtocol:l,credentials:o.current.credentials,headers:{...o.current.headers,...t.headers},abortController:()=>a.current,restoreMessagesOnFailure(){b||r(C,!1)},onResponse:d,onUpdate(D,M){r([...t.messages,...D],!1),M?.length&&n([...E??[],...M],!1)},onToolCall:g,onFinish:u,generateId:i,fetch:f})};function Do({api:e="/api/chat",id:t,initialMessages:r,initialInput:n="",sendExtraMessageFields:s,onToolCall:o,experimental_prepareRequestBody:c,maxSteps:a=1,streamProtocol:i="data",onResponse:l,onFinish:u,onError:d,credentials:g,headers:h,body:w,generateId:f=xr,fetch:b,keepLastMessageOnError:p=!0,experimental_throttle:m}={}){const[C]=y.useState(f),v=t??C,E=typeof e=="string"?[e,v]:v,[D]=y.useState([]),{data:M,mutate:N}=We([E,"messages"],null,{fallbackData:r??D}),j=y.useRef(M||[]);y.useEffect(()=>{j.current=M||[]},[M]);const{data:L,mutate:F}=We([E,"streamData"],null),S=y.useRef(L);y.useEffect(()=>{S.current=L},[L]);const{data:W=!1,mutate:$}=We([E,"loading"],null),{data:re=void 0,mutate:X}=We([E,"error"],null),H=y.useRef(null),G=y.useRef({credentials:g,headers:h,body:w});y.useEffect(()=>{G.current={credentials:g,headers:h,body:w}},[g,h,w]);const U=y.useCallback(async A=>{const B=j.current.length;try{$(!0),X(void 0);const R=new AbortController;H.current=R,await Oo(e,A,Wt(N,m),Wt(F,m),S,G,j,H,f,i,u,l,o,s,c,b,p,v),H.current=null}catch(R){if(R.name==="AbortError")return H.current=null,null;d&&R instanceof Error&&d(R),X(R)}finally{$(!1)}const x=j.current,_=x[x.length-1];x.length>B&&_!=null&&a>1&&Gt(_)&&jo(x)<a&&await U({messages:x})},[N,$,e,G,l,u,d,X,F,S,i,s,c,o,a,j,H,f,b,p,m,v]),pe=y.useCallback(async(A,{data:B,headers:x,body:_,experimental_attachments:R}={})=>{var O,J;const K=await Lt(R),P=j.current.concat({...A,id:(O=A.id)!=null?O:f(),createdAt:(J=A.createdAt)!=null?J:new Date,experimental_attachments:K.length>0?K:void 0});return U({messages:P,headers:x,body:_,data:B})},[U,f]),z=y.useCallback(async({data:A,headers:B,body:x}={})=>{const _=j.current;if(_.length===0)return null;const R=_[_.length-1];return U({messages:R.role==="assistant"?_.slice(0,-1):_,headers:B,body:x,data:A})},[U]),ie=y.useCallback(()=>{H.current&&(H.current.abort(),H.current=null)},[]),ge=y.useCallback(A=>{typeof A=="function"&&(A=A(j.current)),N(A,!1),j.current=A},[N]),ze=y.useCallback(A=>{typeof A=="function"&&(A=A(S.current)),F(A,!1),S.current=A},[F]),[ee,me]=y.useState(n),Ue=y.useCallback(async(A,B={},x)=>{var _;if((_=A?.preventDefault)==null||_.call(A),!ee&&!B.allowEmptySubmit)return;x&&(G.current={...G.current,...x});const R=await Lt(B.experimental_attachments),J={messages:!ee&&!R.length&&B.allowEmptySubmit?j.current:j.current.concat({id:f(),createdAt:new Date,role:"user",content:ee,experimental_attachments:R.length>0?R:void 0}),headers:B.headers,body:B.body,data:B.data};U(J),me("")},[ee,f,U]);return{messages:M||[],id:v,setMessages:ge,data:L,setData:ze,error:re,append:pe,reload:z,stop:ie,input:ee,setInput:me,handleInputChange:A=>{me(A.target.value)},handleSubmit:Ue,isLoading:W,addToolResult:({toolCallId:A,result:B})=>{const x=j.current.map((R,O,J)=>O===J.length-1&&R.role==="assistant"&&R.toolInvocations?{...R,toolInvocations:R.toolInvocations.map(K=>K.toolCallId===A?{...K,result:B,state:"result"}:K)}:R);N(x,!1);const _=x[x.length-1];Gt(_)&&U({messages:x})}}}function Gt(e){return e.role==="assistant"&&e.toolInvocations&&e.toolInvocations.length>0&&e.toolInvocations.every(t=>"result"in t)}function jo(e){let t=0;for(let r=e.length-1;r>=0&&e[r].role==="assistant";r--)t++;return t}var Vo=Do;function Po({repository:e}){if(!e)return null;const[t,r]=y.useState(!1),n=y.useRef(null),s=y.useRef(null),{messages:o,input:c,handleInputChange:a,handleSubmit:i,isLoading:l}=Vo({api:"/api/chat",body:{repositoryId:e?.id}}),u=["¿Cuál es el propósito principal de este proyecto?","¿Qué tecnologías se utilizaron en este proyecto?","¿Cómo puedo contribuir a este proyecto?","¿Cuáles son las principales características de este proyecto?"],d=()=>r(!t);if(y.useEffect(()=>{s.current&&s.current.scrollTo({top:s.current.scrollHeight,behavior:"smooth"})},[o]),!t)return T.jsxs(Ge,{className:"fixed right-4 bottom-4 flex items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg transition-all duration-300 hover:bg-primary/90",onClick:d,children:["Chat sobre ",e.name]});const g=w=>{if(n.current){const f={target:{value:w},currentTarget:n.current,nativeEvent:new Event("input"),bubbles:!0,cancelable:!0};a(f)}},h=()=>{r(!1)};return T.jsxs(rr,{className:"fixed right-4 bottom-4 w-[500px] rounded-lg bg-background/80 shadow-xl backdrop-blur-sm transition-all duration-300",children:[T.jsx(nr,{className:"rounded-t-lg bg-primary text-primary-foreground",children:T.jsxs(or,{className:"flex items-center justify-between",children:[T.jsxs("span",{children:["Chat sobre ",e.name]}),T.jsx(Ge,{variant:"ghost",size:"sm",onClick:h,className:"h-6 w-6 rounded-full"})]})}),T.jsxs(sr,{className:"h-80 space-y-4 overflow-y-auto overflow-x-hidden p-4",ref:s,children:[o.length===0&&T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"mb-2 font-semibold",children:"Preguntas sugeridas:"}),T.jsx("div",{className:"flex flex-col gap-2",children:u.map(w=>T.jsx(Ke,{variant:"outline",className:"cursor-pointer rounded py-2 transition-colors duration-200 hover:bg-primary/10",onClick:()=>g(w),children:w},w))})]}),o.map(w=>T.jsxs("div",{className:Z("max-w-xs rounded-lg p-2",w.role==="user"?"ml-auto overflow-hidden rounded bg-primary text-primary-foreground":"mr-auto overflow-hidden rounded bg-secondary text-secondary-foreground"),children:[T.jsx("strong",{className:Z("mb-2 block font-semibold"),children:w.role==="user"?T.jsxs(Ke,{variant:"outline",className:"text-primary-foreground",children:["Tú:"," "]}):T.jsx(Ke,{children:"IA: "})}),T.jsx("div",{children:w.content.split("```").map((f,b)=>b%2===1?T.jsx("pre",{className:"my-2 overflow-x-auto rounded bg-gray-800 p-2 text-white",children:T.jsx("code",{children:f.trim()})},f):T.jsx("p",{className:"my-2 whitespace-pre-wrap",children:f},f))})]},w.id))]}),T.jsx(ar,{className:"p-4",children:T.jsxs("form",{onSubmit:i,className:"flex w-full",children:[T.jsx(ir,{ref:n,value:c,onChange:a,placeholder:"Pregunta sobre el proyecto...",className:"mr-2 flex-grow"}),T.jsx(Ge,{disabled:l,type:"submit",children:l?"Enviando...":"Enviar"})]})})]})}export{Po as ChatBot};
