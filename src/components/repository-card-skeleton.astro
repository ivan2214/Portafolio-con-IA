---
import { cn } from "@/lib/utils";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "./ui/card";
import { Skeleton } from "./ui/skeleton"; // Asume que tienes un componente Skeleton

// Genera un nÃºmero aleatorio de columnas y filas para cada card
const getRandomColspan = () => Math.floor(Math.random() * 2) + 1; // Aleatorio entre 1 y 2 columnas
const getRandomRowspan = () => Math.floor(Math.random() * 2) + 1; // Aleatorio entre 1 y 2 filas

const col = `col-span-${getRandomColspan()}`;
let row = `row-span-${getRandomRowspan()}`;

// Si ocupa 2 columnas, entonces ocupa 2 filas
if (col === "col-span-2") {
  row = "row-span-2";
}

const hasImage = Math.random() < 0.5; // 50% de probabilidad de tener una imagen si se le aumenta el valor, se incrementa la probabilidad de que tenga imagen

const imageSmall = Math.random() < 0.5;

const imageHeight = imageSmall ? "h-28" : "h-48";
---

<Card
  className={cn(
    "relative h-auto w-60 rounded-2xl",
    hasImage ? "h-96 w-full" : "h-fit",
    col,
    row
  )}
>
  {
    hasImage ? (
      <CardHeader className="mt-4">
        <Skeleton
          className={`${imageHeight} max-h-[200px] w-full rounded-2xl`}
        />
      </CardHeader>
    ) : (
      <CardHeader className="mt-4">
        <CardTitle className="font-bold text-2xl">
          <Skeleton className="h-4 rounded w-full" />
        </CardTitle>
      </CardHeader>
    )
  }

  <CardContent>
    {
      hasImage && (
        <CardTitle className="font-bold text-2xl">
          <Skeleton className="h-4 rounded w-full" />
        </CardTitle>
      )
    }
    <CardDescription className="whitespace-pre-wrap">
      <Skeleton className="h-16 rounded w-full" />
    </CardDescription>
  </CardContent>
</Card>
